<!DOCTYPE html>
<html lang="en">

<head>
    <title>Materiale scolastico - sito test</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pagina con il link al materiale scolastico">
    <meta name="author" content="Francesco Belloni">
    <link rel="shortcut icon" href="../favicon.ico">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:800|Roboto:400,500,700&display=swap"
          rel="stylesheet">

    <!-- FontAwesome JS-->
    <script defer src="../assets/fontawesome/js/all.min.js"></script>

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="../assets/css/theme.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>

        var question_template =
            "<div class='module-sub-item p-3'>" +
            "   <div class='row justify-content-between'>" +
            "       <div class='col-9'>" +
            "           <span class='theme-text-secondary me-2'>-</span>Module Lorem Ipsum" +
            "       </div>" +
            "       <div class='col-3 text-end extra-info'>B</div>" +
            "   </div>" +
            "</div>";

        var template_box =
            // Open Template
            "<div class='module-item card'>" +

            // Title
            "   <div class='module-header card-header' id = 'module-heading-{lesson_id}' >"+
            "    <h4 class='module-title mb-0'> " +
            "        <a class='card-toggle module-toggle' href='#module-{lesson_id}' data-bs-toggle='collapse' data-bs-target='#module-{lesson_id}' aria-expanded='true' aria-controls='module-{lesson_id}'> " +
            "            <i class='module-toggle-icon fas fa-plus me-2'></i>" +
            "            {lesson_title} - {lesson_date}" +
            "        </a>" +
            "    </h4>" +
            "   </div>" +
            
            // Open Modulo collapse
            "   <div id = 'module-{lesson_id}' class='module-content collapse' aria-labelledby='module-heading-{lesson_id}' >" +

            // Open card 
            "       <div class='card-body p-0'>" +

            // Text
            "           <div class='module-intro p-3'>" +
            "               {lesson_text}" +
            "           </div>" +
            
            "           <br><br>" +

            // Question title
            "           <div class='module-intro p-3'>Domande della lezione:</div>" +

            // Questions
            "           <div class='module-sub-item p-3'>" +
            "                <div class='row justify-content-between'>" +
            "                   <div class='col-9'>" +
            "                       <span class='theme-text-secondary me-2'>-</span>Module Lorem Ipsum" +
            "                   </div>" +
            "                   <div class='col-3 text-end extra-info'>A</div>" +
            "               </div>" +
            "           </div>" +
                

               
            // Close card
            "       </div>" +

            // Close Modulo collapse
            "   </div>" +

            // Close Template
            "</div>";


        $(document).ready(function () {
            $("button").click(function (event) {
                try {
                    console.log("Click!");

                    $.getJSON('https://francobelloni85.github.io/francobelloni85/data/intro_classi_prime.html', function (data, status) {
                        console.log("prova a leggere html");
                        console.log(data);
                    });

                    $.getJSON('https://francobelloni85.github.io/francobelloni85/data/2022_1AE.json', function (data, status) {

                        var count = Object.keys(data.lessons).length;
                        console.log("ci sono " + count  + " lezioni");

                        for (let i = 0; i < count; i++) {

                            let text = template_box;
                            
                            text = text.replace("{lesson_title}", "Title");
                            text = text.replace("{lesson_date}", "Data");
                            text = text.replace("{lesson_text}", "Text");
                            text = text.replaceAll("{lesson_id}", ""+i);

                            console.log("Lezione " + i);

                            $('#js').append(text);
                            //$('#js').append('<h3> Lesson '+ data.lessons[i].text +' </h3>');
                            //$('#js').append('<p> Date : ' + data.lessons[i].questions + '</p>');
                            //$('#js').append('<p> The request status is : ' + status + '</p>');

                        }

                      
                    });

                } catch (ex) {
                    console.log(ex);
                }

            });
        });
    </script>

</head>

<body>

    
    <button> Click to read json data </button>

    <header class="header">
        <section class="hero-section">
            <div class="hero-mask">
            </div>
            <!--//hero-mask-->
            <div class="container text-center py-5">
                <div class="single-col-max mx-auto">

                    <h1 class="hero-heading mb-5">
                        <span class="brand mb-4 d-block">
                            <span class="text-highlight pr-2">{</span><span class="name">
                                1
                                A
                            </span><span class="text-highlight pl-2">}</span>
                        </span>
                        <span class="desc d-block">Informatica</span>
                    </h1>
                </div>
                <!--//single-col-max-->
            </div>
            <!--//container-->
        </section>
        <!--//hero-section-->
    </header>
    <!--//header-->

    <div class="sections-wrapper">

        <div class="section-blocks mb-5">

            <div id="section-content" class="section-content section">
                <div class="container py-5">

                    <h3 class="section-title mb-5">Lezioni</h3>

                    <div class="accordion module-accordion" id="module-accordion">
                        <div id="js" style="background-color : lightblue;"> </div>
                    </div>
                    
                    <br>

                    <div class="text-center mt-5">
                        <a class="btn btn-primary scrollto" href="../index.html">Indietro</a>
                    </div>
                </div>
                <!--//container-->
            </div>
            <!--//section-content-->
        </div>
        <!--//sections-block-->
    </div>
    <!--//section-wrapper-->

    <footer class="footer pb-5 text-center">
        <div class="container">
            <div class="copyright mb-2">
                Code by <a class="theme-link" href="http://francescobelloni.it" target="_blank">Francesco Belloni</a> for the studends
                <br>
                <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
                Designed with <span class="sr-only">love</span><i class="fas fa-heart" style="color: #fb866a;"></i> by
                <a class="theme-link" href="http://themes.3rdwavemedia.com" target="_blank">Xiaoying Riley</a> for
                developers
            </div>
            <div class="legal mb-0">
                <ul class="list-inline mb-0">
                    <li class="list-inline-item"><a href="#">Privacy</a></li>
                    <li class="list-inline-item theme-text-light">|</li>
                    <li class="list-inline-item"><a href="#">Terms of Services</a></li>
                </ul>
            </div>
        </div>
        <!--//container-->
    </footer>
    <!--//footer-->
    <!-- Javascript -->
    <script src="../assets/plugins/popper.min.js"></script>
    <script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="../assets/js/main.js"></script>

</body>

</html>